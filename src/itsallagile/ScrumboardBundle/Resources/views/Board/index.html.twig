{% extends 'itsallagileBootstrapBundle::base.html.twig' %}

{% block styles %}
    {{ parent() }}
    {% stylesheets
        '@itsallagileScrumboardBundle/Resources/public/css/board.css'
    %}
    <link rel="stylesheet" href="{{ asset_url }}" />
    {% endstylesheets %}
{% endblock %}

{% block body %}
    <div id="board">
        <div id="templates">
            <div id="trash">TRASH</div>
        </div>
        
    </div>
{% endblock %}


{% block endscript %}
    <script src="/js/socket.io/socket.io.min.js"></script>
    <script>var WEB_SOCKET_SWF_LOCATION = '/js/socket.io/WebSocketMain.swf';</script>
    {{ parent() }}
        {% javascripts
            '@itsallagileScrumboardBundle/Resources/public/js/*'
        %}
        <script src="{{ asset_url }}"></script>
        {% endjavascripts %}
        <script>
            $(document).ready(function() {
                itsallagile.socket = io.connect('http://scrum.localhost:8080'); 
                var board = itsallagile.board;
                board.init();
                board.addTemplate(itsallagile.storytemplate);
                board.addTemplate(itsallagile.template.extend({type: 'task'}));
                board.addTemplate(itsallagile.template.extend({type: 'test'}));
                board.addTemplate(itsallagile.template.extend({type: 'bug'}));
                board.addTemplate(itsallagile.template.extend({type: 'defect'}));
                board.addTemplate(itsallagile.template.extend({type: 'design'}));                
                board.addColumn(itsallagile.column.extend({id : 'story', type: 'story', title: 'Story'}));
                board.addColumn(itsallagile.column.extend({id : 'todo', type: 'todo', title: 'Todo'}));
                board.addColumn(itsallagile.column.extend({id : 'assigned', type: 'assigned', title: 'Assigned'}));
                board.addColumn(itsallagile.column.extend({id : 'done', type: 'done', title: 'Done'}));
                board.render();   
            });
        </script>

{% endblock %}

